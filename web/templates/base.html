<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>{% block title %}CISIA CRAWLER{% endblock %} â€” Admin</title>
    <link rel="icon" type="image/x-icon" href="/static/favicon.ico">
    <link rel="apple-touch-icon" href="/static/logo-192.png">
    <link href="https://fonts.googleapis.com/css2?family=DM+Sans:wght@400;500;600;700&family=JetBrains+Mono:wght@400;500&display=swap" rel="stylesheet">
    <style>
        *,*::before,*::after{box-sizing:border-box;margin:0;padding:0}
        :root{
            --bg:#F5F5F6;--surface:#FFF;--surface-hover:#FAFAFA;
            --border:#E4E4E7;--border-light:#F0F0F2;
            --text:#18181B;--text-muted:#71717A;--text-light:#A1A1AA;
            --red:#DC2626;--red-hover:#B91C1C;--red-light:#FEE2E2;--red-surface:#FEF2F2;
            --green:#16A34A;--green-light:#DCFCE7;--green-surface:#F0FDF4;
            --yellow:#CA8A04;--yellow-light:#FEF9C3;
            --shadow-sm:0 1px 2px rgba(0,0,0,.04);
            --shadow:0 1px 3px rgba(0,0,0,.06),0 1px 2px rgba(0,0,0,.04);
            --shadow-lg:0 4px 12px rgba(0,0,0,.08);
            --radius:10px;--radius-sm:6px;
            --font:'DM Sans',-apple-system,sans-serif;
            --mono:'JetBrains Mono',monospace;
            --sidebar-w:230px;
        }
        body{font-family:var(--font);background:var(--bg);color:var(--text);min-height:100vh;-webkit-font-smoothing:antialiased}

        /* Layout */
        .layout{display:flex;min-height:100vh}
        .sidebar{width:var(--sidebar-w);background:var(--surface);border-right:1px solid var(--border);padding:20px 14px;display:flex;flex-direction:column;position:fixed;top:0;left:0;bottom:0;z-index:200;transition:transform .25s ease}
        .main{flex:1;margin-left:var(--sidebar-w);padding:28px 32px;width:calc(100% - var(--sidebar-w));min-width:0}

        /* Sidebar brand */
        .sb-brand{display:flex;align-items:center;gap:10px;padding:0 6px 18px;border-bottom:1px solid var(--border-light);margin-bottom:16px}
        .sb-brand img{width:36px;height:36px;border-radius:8px}
        .sb-brand .sb-name{font-weight:700;font-size:14px;letter-spacing:-.3px}
        .sb-brand .sb-ver{font-size:11px;color:var(--text-light)}

        /* Sidebar nav */
        .sb-nav{flex:1;display:flex;flex-direction:column;gap:1px}
        .sb-nav a{display:flex;align-items:center;gap:9px;padding:9px 10px;border-radius:var(--radius-sm);color:var(--text-muted);text-decoration:none;font-size:13px;font-weight:500;transition:all .12s}
        .sb-nav a:hover{background:var(--bg);color:var(--text)}
        .sb-nav a.active{background:var(--red-light);color:var(--red)}
        .sb-nav a svg{width:17px;height:17px;flex-shrink:0;stroke-width:1.8}
        .sb-nav .spacer{flex:1}
        .sb-nav .logout-link{color:var(--text-light)}.sb-nav .logout-link:hover{color:var(--red);background:var(--red-surface)}

        /* Mobile hamburger */
        .hamburger{display:none;position:fixed;top:14px;left:14px;z-index:300;background:var(--surface);border:1px solid var(--border);border-radius:8px;padding:8px;cursor:pointer;box-shadow:var(--shadow)}
        .hamburger svg{width:22px;height:22px;color:var(--text)}
        .overlay{display:none;position:fixed;inset:0;background:rgba(0,0,0,.3);z-index:150}
        .overlay.show{display:block}

        @media(max-width:768px){
            .sidebar{transform:translateX(-100%)}
            .sidebar.open{transform:translateX(0)}
            .main{margin-left:0;padding:60px 16px 20px;width:100%}
            .hamburger{display:flex}
        }

        /* Page header */
        .page-hdr{margin-bottom:24px}
        .page-hdr h1{font-size:22px;font-weight:700;letter-spacing:-.4px}
        .page-hdr p{margin-top:3px;font-size:13px;color:var(--text-muted)}

        /* Cards */
        .card{background:var(--surface);border:1px solid var(--border);border-radius:var(--radius);box-shadow:var(--shadow-sm);margin-bottom:20px}
        .card-hdr{padding:14px 18px;border-bottom:1px solid var(--border-light);font-weight:600;font-size:14px;display:flex;align-items:center;justify-content:space-between}
        .card-body{padding:18px}

        /* Stats grid */
        .stats-grid{display:grid;grid-template-columns:repeat(auto-fill,minmax(170px,1fr));gap:14px;margin-bottom:24px}
        .stat-card{background:var(--surface);border:1px solid var(--border);border-radius:var(--radius);padding:16px 18px;box-shadow:var(--shadow-sm)}
        .stat-card .s-label{font-size:11px;font-weight:600;text-transform:uppercase;letter-spacing:.5px;color:var(--text-light);margin-bottom:6px}
        .stat-card .s-val{font-size:26px;font-weight:700;letter-spacing:-1px}
        .stat-card.accent .s-val{color:var(--red)}
        .stat-card.green .s-val{color:var(--green)}

        /* Table */
        .table-wrap{overflow-x:auto}
        table{width:100%;border-collapse:collapse;font-size:13px}
        thead th{text-align:left;padding:9px 14px;font-weight:600;font-size:11px;text-transform:uppercase;letter-spacing:.4px;color:var(--text-light);border-bottom:1px solid var(--border);white-space:nowrap}
        tbody td{padding:10px 14px;border-bottom:1px solid var(--border-light);vertical-align:middle}
        tbody tr:hover{background:var(--surface-hover)}
        tbody tr:last-child td{border-bottom:none}
        .mono{font-family:var(--mono);font-size:12px}

        /* Badges */
        .badge{display:inline-flex;align-items:center;padding:2px 9px;border-radius:100px;font-size:11px;font-weight:600;white-space:nowrap}
        .badge-green{background:var(--green-light);color:var(--green)}
        .badge-red{background:var(--red-light);color:var(--red)}
        .badge-yellow{background:var(--yellow-light);color:var(--yellow)}
        .badge-gray{background:#F4F4F5;color:var(--text-muted)}

        /* Buttons */
        .btn{display:inline-flex;align-items:center;justify-content:center;gap:5px;padding:7px 14px;border-radius:var(--radius-sm);font-size:13px;font-weight:600;font-family:var(--font);cursor:pointer;border:1px solid transparent;transition:all .12s;text-decoration:none}
        .btn-red{background:var(--red);color:#fff;border-color:var(--red)}.btn-red:hover{background:var(--red-hover)}
        .btn-outline{background:var(--surface);color:var(--text);border-color:var(--border)}.btn-outline:hover{background:var(--bg)}
        .btn-green{background:var(--green);color:#fff}.btn-green:hover{background:#15803D}
        .btn-sm{padding:4px 10px;font-size:12px}

        /* Forms */
        .form-group{margin-bottom:14px}
        .form-group label{display:block;font-size:13px;font-weight:600;margin-bottom:4px}
        .form-group .hint{font-size:12px;color:var(--text-light);margin-top:2px}
        input[type="text"],input[type="password"],input[type="number"],select,textarea{width:100%;padding:8px 11px;border:1px solid var(--border);border-radius:var(--radius-sm);font-size:13px;font-family:var(--font);color:var(--text);background:var(--surface);outline:none;transition:border-color .12s}
        input:focus,select:focus{border-color:var(--red);box-shadow:0 0 0 3px rgba(220,38,38,.08)}
        .mono-input{font-family:var(--mono)!important;font-size:12px!important}
        .toggle-row{display:flex;align-items:center;gap:10px;padding:6px 0}
        .toggle-row label{margin-bottom:0;flex:1}
        input[type="checkbox"].toggle{appearance:none;-webkit-appearance:none;width:38px;height:20px;background:#D4D4D8;border-radius:10px;position:relative;cursor:pointer;transition:background .2s;flex-shrink:0}
        input[type="checkbox"].toggle::after{content:'';position:absolute;top:2px;left:2px;width:16px;height:16px;background:#fff;border-radius:50%;transition:transform .2s;box-shadow:0 1px 3px rgba(0,0,0,.15)}
        input[type="checkbox"].toggle:checked{background:var(--red)}
        input[type="checkbox"].toggle:checked::after{transform:translateX(18px)}

        /* Flash */
        .flash{padding:10px 14px;border-radius:var(--radius-sm);margin-bottom:16px;font-size:13px;font-weight:500;display:flex;align-items:center;gap:7px}
        .flash-success{background:var(--green-surface);color:var(--green);border:1px solid #BBF7D0}
        .flash-error{background:var(--red-surface);color:var(--red);border:1px solid #FECACA}

        /* Grids */
        .grid-2{display:grid;grid-template-columns:1fr 1fr;gap:14px}
        .grid-3{display:grid;grid-template-columns:1fr 1fr 1fr;gap:14px}
        @media(max-width:768px){.grid-2,.grid-3{grid-template-columns:1fr}}

        /* Section */
        .section-title{font-size:12px;font-weight:600;text-transform:uppercase;letter-spacing:.5px;color:var(--text-light);margin-bottom:10px;padding-bottom:7px;border-bottom:1px solid var(--border-light)}

        /* Action buttons */
        .action-btns{display:flex;gap:5px}

        /* Auth pages */
        .auth-page{display:flex;align-items:center;justify-content:center;min-height:100vh;background:var(--bg);padding:20px}
        .auth-card{width:100%;max-width:400px;background:var(--surface);border:1px solid var(--border);border-radius:14px;box-shadow:var(--shadow-lg);padding:34px}
        .auth-brand{display:flex;align-items:center;gap:10px;margin-bottom:24px}
        .auth-brand img{width:42px;height:42px;border-radius:10px}
        .auth-brand h2{font-size:18px;font-weight:700}
        .auth-brand small{font-size:11px;color:var(--text-light)}
        .secret-box{background:var(--bg);border:1px solid var(--border);border-radius:var(--radius-sm);padding:10px;font-family:var(--mono);font-size:13px;letter-spacing:.5px;word-break:break-all;margin-bottom:14px;text-align:center;user-select:all}

        /* Chart container */
        .chart-container{position:relative;width:100%;height:260px}

        /* Bot status pill */
        .bot-pill{display:inline-flex;align-items:center;gap:6px;padding:5px 12px;border-radius:100px;font-size:12px;font-weight:600}
        .bot-pill.running{background:var(--green-light);color:var(--green)}
        .bot-pill.stopped{background:#F4F4F5;color:var(--text-muted)}
        .bot-pill .dot{width:7px;height:7px;border-radius:50%}
        .bot-pill.running .dot{background:var(--green);animation:pulse 2s infinite}
        .bot-pill.stopped .dot{background:var(--text-light)}
        @keyframes pulse{0%,100%{opacity:1}50%{opacity:.4}}

        .empty-state{text-align:center;padding:40px 20px;color:var(--text-light)}
        .empty-state .e-icon{font-size:32px;margin-bottom:10px}
        .text-muted{color:var(--text-muted)}.text-light{color:var(--text-light)}.text-red{color:var(--red)}
    </style>
    <script src="https://cdn.jsdelivr.net/npm/chart.js@4/dist/chart.umd.min.js"></script>
    {% block extra_head %}{% endblock %}
</head>
<body>
{% block body %}{% endblock %}
<script>
function toggleSidebar(){
    document.querySelector('.sidebar').classList.toggle('open');
    document.querySelector('.overlay').classList.toggle('show');
}
document.addEventListener('click',function(e){
    if(e.target.classList.contains('overlay')){toggleSidebar()}
});
</script>
{% block extra_js %}{% endblock %}
</body>
</html>
